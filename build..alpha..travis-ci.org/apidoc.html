<div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a

        href="https://github.com/criso/fbgraph#readme"

    >fbgraph (v1.4.1)</a>
</h1>
<h4>Facebook Graph API client</h4>
<div class="apidocSectionDiv"><a
    href="#apidoc.tableOfContents"
    id="apidoc.tableOfContents"
><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.fbgraph">module fbgraph</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.fbgraph.authorize">
            function <span class="apidocSignatureSpan">fbgraph.</span>authorize
            <span class="apidocSignatureSpan">(params, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.fbgraph.batch">
            function <span class="apidocSignatureSpan">fbgraph.</span>batch
            <span class="apidocSignatureSpan">(reqs, additionalData, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.fbgraph.del">
            function <span class="apidocSignatureSpan">fbgraph.</span>del
            <span class="apidocSignatureSpan">(url, postData, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.fbgraph.extendAccessToken">
            function <span class="apidocSignatureSpan">fbgraph.</span>extendAccessToken
            <span class="apidocSignatureSpan">(params, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.fbgraph.fql">
            function <span class="apidocSignatureSpan">fbgraph.</span>fql
            <span class="apidocSignatureSpan">(query, params, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.fbgraph.get">
            function <span class="apidocSignatureSpan">fbgraph.</span>get
            <span class="apidocSignatureSpan">(url, params, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.fbgraph.getAccessToken">
            function <span class="apidocSignatureSpan">fbgraph.</span>getAccessToken
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.fbgraph.getAppSecret">
            function <span class="apidocSignatureSpan">fbgraph.</span>getAppSecret
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.fbgraph.getGraphUrl">
            function <span class="apidocSignatureSpan">fbgraph.</span>getGraphUrl
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.fbgraph.getOauthUrl">
            function <span class="apidocSignatureSpan">fbgraph.</span>getOauthUrl
            <span class="apidocSignatureSpan">(params, opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.fbgraph.getOptions">
            function <span class="apidocSignatureSpan">fbgraph.</span>getOptions
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.fbgraph.post">
            function <span class="apidocSignatureSpan">fbgraph.</span>post
            <span class="apidocSignatureSpan">(url, postData, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.fbgraph.search">
            function <span class="apidocSignatureSpan">fbgraph.</span>search
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.fbgraph.setAccessToken">
            function <span class="apidocSignatureSpan">fbgraph.</span>setAccessToken
            <span class="apidocSignatureSpan">(token)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.fbgraph.setAppSecret">
            function <span class="apidocSignatureSpan">fbgraph.</span>setAppSecret
            <span class="apidocSignatureSpan">(token)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.fbgraph.setGraphUrl">
            function <span class="apidocSignatureSpan">fbgraph.</span>setGraphUrl
            <span class="apidocSignatureSpan">(url)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.fbgraph.setOptions">
            function <span class="apidocSignatureSpan">fbgraph.</span>setOptions
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.fbgraph.setVersion">
            function <span class="apidocSignatureSpan">fbgraph.</span>setVersion
            <span class="apidocSignatureSpan">(version)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">fbgraph.</span>graph</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">fbgraph.</span>version</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.fbgraph.graph">module fbgraph.graph</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.fbgraph.graph.authorize">
            function <span class="apidocSignatureSpan">fbgraph.graph.</span>authorize
            <span class="apidocSignatureSpan">(params, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.fbgraph.graph.batch">
            function <span class="apidocSignatureSpan">fbgraph.graph.</span>batch
            <span class="apidocSignatureSpan">(reqs, additionalData, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.fbgraph.graph.del">
            function <span class="apidocSignatureSpan">fbgraph.graph.</span>del
            <span class="apidocSignatureSpan">(url, postData, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.fbgraph.graph.extendAccessToken">
            function <span class="apidocSignatureSpan">fbgraph.graph.</span>extendAccessToken
            <span class="apidocSignatureSpan">(params, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.fbgraph.graph.fql">
            function <span class="apidocSignatureSpan">fbgraph.graph.</span>fql
            <span class="apidocSignatureSpan">(query, params, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.fbgraph.graph.get">
            function <span class="apidocSignatureSpan">fbgraph.graph.</span>get
            <span class="apidocSignatureSpan">(url, params, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.fbgraph.graph.getAccessToken">
            function <span class="apidocSignatureSpan">fbgraph.graph.</span>getAccessToken
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.fbgraph.graph.getAppSecret">
            function <span class="apidocSignatureSpan">fbgraph.graph.</span>getAppSecret
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.fbgraph.graph.getGraphUrl">
            function <span class="apidocSignatureSpan">fbgraph.graph.</span>getGraphUrl
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.fbgraph.graph.getOauthUrl">
            function <span class="apidocSignatureSpan">fbgraph.graph.</span>getOauthUrl
            <span class="apidocSignatureSpan">(params, opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.fbgraph.graph.getOptions">
            function <span class="apidocSignatureSpan">fbgraph.graph.</span>getOptions
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.fbgraph.graph.post">
            function <span class="apidocSignatureSpan">fbgraph.graph.</span>post
            <span class="apidocSignatureSpan">(url, postData, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.fbgraph.graph.search">
            function <span class="apidocSignatureSpan">fbgraph.graph.</span>search
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.fbgraph.graph.setAccessToken">
            function <span class="apidocSignatureSpan">fbgraph.graph.</span>setAccessToken
            <span class="apidocSignatureSpan">(token)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.fbgraph.graph.setAppSecret">
            function <span class="apidocSignatureSpan">fbgraph.graph.</span>setAppSecret
            <span class="apidocSignatureSpan">(token)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.fbgraph.graph.setGraphUrl">
            function <span class="apidocSignatureSpan">fbgraph.graph.</span>setGraphUrl
            <span class="apidocSignatureSpan">(url)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.fbgraph.graph.setOptions">
            function <span class="apidocSignatureSpan">fbgraph.graph.</span>setOptions
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.fbgraph.graph.setVersion">
            function <span class="apidocSignatureSpan">fbgraph.graph.</span>setVersion
            <span class="apidocSignatureSpan">(version)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">fbgraph.graph.</span>version</span>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.fbgraph" id="apidoc.module.fbgraph">module fbgraph</a></h1>


    <h2>
        <a href="#apidoc.element.fbgraph.authorize" id="apidoc.element.fbgraph.authorize">
        function <span class="apidocSignatureSpan">fbgraph.</span>authorize
        <span class="apidocSignatureSpan">(params, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">authorize = function (params, callback) {
  var self = this;

  return this.get(&#x22;/oauth/access_token&#x22;, params, function(err, res) {
    if (!err) self.setAccessToken(res.access_token);

    callback(err, res);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
});

// shows dialog
res.redirect(authUrl);

// after user click, auth `code` will be set
// we&#x27;ll send that and get the access token
graph.<span class="apidocCodeKeywordSpan">authorize</span>({
    &#x22;client_id&#x22;:      conf.client_id
  , &#x22;redirect_uri&#x22;:   conf.redirect_uri
  , &#x22;client_secret&#x22;:  conf.client_secret
  , &#x22;code&#x22;:           req.query.code
}, function (err, facebookRes) {
  res.redirect(&#x27;/loggedIn&#x27;);
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.fbgraph.batch" id="apidoc.element.fbgraph.batch">
        function <span class="apidocSignatureSpan">fbgraph.</span>batch
        <span class="apidocSignatureSpan">(reqs, additionalData, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">batch = function (reqs, additionalData, callback) {
  if (!(reqs instanceof Array)) {
    return callback({ message: &#x27;Graph api batch requests must be an array&#x27; }, null);
  }

  if (typeof additionalData === &#x27;function&#x27;) {
    callback = additionalData;
    additionalData = {};
  }

  return new Graph(&#x27;POST&#x27;, &#x27;&#x27;, extend({}, {
    access_token: accessToken,
    batch: JSON.stringify(reqs)
  }, additionalData), callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
```

## Performing a batch request

[Batching](https://developers.facebook.com/docs/graph-api/making-multiple-requests) allows you to pass instructions for several
operations in a single HTTP request.

```js
graph.<span class="apidocCodeKeywordSpan">batch</span>([
{
  method: &#x22;GET&#x22;,
  relative_url: &#x22;me&#x22; // Get the current user&#x27;s profile information
},
{
  method: &#x22;GET&#x22;,
  relative_url: &#x22;me/friends?limit=50&#x22; // Get the first 50 friends of the current user
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.fbgraph.del" id="apidoc.element.fbgraph.del">
        function <span class="apidocSignatureSpan">fbgraph.</span>del
        <span class="apidocSignatureSpan">(url, postData, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">del = function (url, postData, callback) {
  if (!url.match(/[?|&#x26;]method=delete/i)) {
    url += ~url.indexOf(&#x27;?&#x27;) ? &#x27;&#x26;&#x27; : &#x27;?&#x27;;
    url += &#x27;method=delete&#x27;;
  }

  if (typeof postData === &#x27;function&#x27;) {
    callback = postData;
    postData = url.indexOf(&#x27;access_token&#x27;) !== -1 ? {} : {access_token: accessToken};
  }

  return this.post(url, postData, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

## Delete a Graph object

To delete a graph object, provide an `object id` and the
response will return `{data: true}` or `{data:false}`

```js
graph.<span class="apidocCodeKeywordSpan">del</span>(postID, function(err, res) {
  console.log(res); // {data:true}/{data:false}
});
```

## Performing a batch request

[Batching](https://developers.facebook.com/docs/graph-api/making-multiple-requests) allows you to pass instructions for several
operations in a single HTTP request.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.fbgraph.extendAccessToken" id="apidoc.element.fbgraph.extendAccessToken">
        function <span class="apidocSignatureSpan">fbgraph.</span>extendAccessToken
        <span class="apidocSignatureSpan">(params, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">extendAccessToken = function (params, callback) {
    var self = this;

    params.grant_type        = &#x27;fb_exchange_token&#x27;;
    params.fb_exchange_token = params.access_token ? params.access_token : this.getAccessToken();

    return this.get(&#x22;/oauth/access_token&#x22;, params, function(err, res) {
      if (!err &#x26;&#x26; !params.access_token) {
        self.setAccessToken(res.access_token);
      }

      callback(err, res);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

## Extending access token expiration time

If you want to [extend the expiration time](http://developers.facebook.com/docs/facebook-login/access-tokens/#extending) of your
 short-living access token, you may use `extendAccessToken` method as it is shown below:

```js
// extending static access token
graph.<span class="apidocCodeKeywordSpan">extendAccessToken</span>({
    &#x22;client_id&#x22;:      conf.client_id
  , &#x22;client_secret&#x22;:  conf.client_secret
}, function (err, facebookRes) {
   console.log(facebookRes);
});

// extending specific access token
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.fbgraph.fql" id="apidoc.element.fbgraph.fql">
        function <span class="apidocSignatureSpan">fbgraph.</span>fql
        <span class="apidocSignatureSpan">(query, params, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fql = function (query, params, callback) {
  if (typeof query !== &#x27;string&#x27;) query = JSON.stringify(query);

  var url = &#x27;/fql?q=&#x27; + encodeURIComponent(query);

  if (typeof params === &#x27;function&#x27;) {
    callback = params;
    params = null;
    return this.get(url, callback);
  } else {
    return this.get(url, params, callback);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
## Performing a FQL query

A single FQL query is done by sending a query as a string

```js
var query = &#x22;SELECT name FROM user WHERE uid = me()&#x22;;

graph.<span class="apidocCodeKeywordSpan">fql</span>(query, function(err, res) {
  console.log(res); // { data: [ { name: &#x27;Ricky Bobby&#x27; } ] }
});
```

You can specify additional options by adding a JSON object
```js
var query = &#x22;SELECT name FROM user WHERE uid = me()&#x22;;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.fbgraph.get" id="apidoc.element.fbgraph.get">
        function <span class="apidocSignatureSpan">fbgraph.</span>get
        <span class="apidocSignatureSpan">(url, params, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">get = function (url, params, callback) {
  if (typeof params === &#x27;function&#x27;) {
    callback = params;
    params   = null;
  }

  if (typeof url !== &#x27;string&#x27;) {
    return callback({ message: &#x27;Graph api url must be a string&#x27; }, null);
  }

  if (params)  {
    url += ~url.indexOf(&#x27;?&#x27;) ? &#x27;&#x26;&#x27; : &#x27;?&#x27;;
    url += qs.stringify(params);
  }

  return new Graph(&#x27;GET&#x27;, url, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    timeout:  3000
  , pool:     { maxSockets:  Infinity }
  , headers:  { connection:  &#x22;keep-alive&#x22; }
};

graph
  .setOptions(options)
  .<span class="apidocCodeKeywordSpan">get</span>(&#x22;zuck&#x22;, function(err, res) {
    console.log(res); // { id: &#x27;4&#x27;, name: &#x27;Mark Zuckerberg&#x27;... }
  });
```

Possible options can be found on the [request github page](https://github.com/mikeal/request)

`followRedirect` cannot be overriden and has a default value of `false`
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.fbgraph.getAccessToken" id="apidoc.element.fbgraph.getAccessToken">
        function <span class="apidocSignatureSpan">fbgraph.</span>getAccessToken
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getAccessToken = function () {
  return accessToken;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 * @param {function} callback
 */

exports.extendAccessToken = function (params, callback) {
    var self = this;

    params.grant_type        = &#x27;fb_exchange_token&#x27;;
    params.fb_exchange_token = params.access_token ? params.access_token : this.<span class="apidocCodeKeywordSpan">getAccessToken
</span>();

    return this.get(&#x22;/oauth/access_token&#x22;, params, function(err, res) {
if (!err &#x26;&#x26; !params.access_token) {
  self.setAccessToken(res.access_token);
}

callback(err, res);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.fbgraph.getAppSecret" id="apidoc.element.fbgraph.getAppSecret">
        function <span class="apidocSignatureSpan">fbgraph.</span>getAppSecret
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getAppSecret = function () {
  return appSecret;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.fbgraph.getGraphUrl" id="apidoc.element.fbgraph.getGraphUrl">
        function <span class="apidocSignatureSpan">fbgraph.</span>getGraphUrl
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getGraphUrl = function () {
  return graphUrl;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    assert.include(res, &#x22;image&#x22;);
    assert.include(res, &#x22;location&#x22;);
  }
},

&#x22;and requesting an api url with prefixed graphurl&#x22;: {
  topic: function() {
    graph.get(graph.<span class="apidocCodeKeywordSpan">getGraphUrl</span>() + &#x22;/zuck/picture&#x22;, this.callback);
  },

  &#x22;should be able to get valid data&#x22;: function (err, res) {
    assert.include(res, &#x22;image&#x22;);
    assert.include(res, &#x22;location&#x22;);
  }
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.fbgraph.getOauthUrl" id="apidoc.element.fbgraph.getOauthUrl">
        function <span class="apidocSignatureSpan">fbgraph.</span>getOauthUrl
        <span class="apidocSignatureSpan">(params, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getOauthUrl = function (params, opts) {
  var url = (opts &#x26;&#x26; opts.mobile) ? oauthDialogUrlMobile : oauthDialogUrl;
  return url + qs.stringify(params);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...


This is how you would get authenticated using only the `fbgraph` module.
More details below on the __express app__ section

```js
// get authorization url
var authUrl = graph.<span class="apidocCodeKeywordSpan">getOauthUrl</span>({
    &#x22;client_id&#x22;:     conf.client_id
  , &#x22;redirect_uri&#x22;:  conf.redirect_uri
});

// shows dialog
res.redirect(authUrl);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.fbgraph.getOptions" id="apidoc.element.fbgraph.getOptions">
        function <span class="apidocSignatureSpan">fbgraph.</span>getOptions
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getOptions = function () {
  return requestOptions;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    var options = {
        timeout:  30000
      , pool:     false
      , headers:  { connection:  &#x22;keep-alive&#x22; }
    };

    graph.setOptions(options);
    assert.equal(graph.<span class="apidocCodeKeywordSpan">getOptions</span>(), options);

    // reset
    graph.setOptions({});
  }
}
}).addBatch({
&#x22;When accessing the graphApi&#x22;: {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.fbgraph.post" id="apidoc.element.fbgraph.post">
        function <span class="apidocSignatureSpan">fbgraph.</span>post
        <span class="apidocSignatureSpan">(url, postData, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">post = function (url, postData, callback) {
  if (typeof url !== &#x27;string&#x27;) {
    return callback({ message: &#x27;Graph api url must be a string&#x27; }, null);
  }

  if (typeof postData === &#x27;function&#x27;) {
    callback = postData;
    postData = url.indexOf(&#x27;access_token&#x27;) !== -1 ? {} : {access_token: accessToken};
  }

  return new Graph(&#x27;POST&#x27;, url, postData, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
```js
    graph.setAccessToken(access_token);
```

### To use a specific access token for a particular request
```js
    // pass it in as part of the url
    graph.<span class="apidocCodeKeywordSpan">post</span>(userId + &#x22;/feed?access_token=007&#x22;, wallPost, function(err, res
) {
        // returns the post id
        console.log(res); // { id: xxxxx}
    });

```
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.fbgraph.search" id="apidoc.element.fbgraph.search">
        function <span class="apidocSignatureSpan">fbgraph.</span>search
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">search = function (options, callback) {
  options = options || {};
  var url = &#x27;/search?&#x27; + qs.stringify(options);
  return this.get(url, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

```js
var searchOptions = {
    q:     &#x22;brogramming&#x22;
  , type:  &#x22;post&#x22;
};

graph.<span class="apidocCodeKeywordSpan">search</span>(searchOptions, function(err, res) {
  console.log(res); // {data: [{id: xxx, from: ...}, {id: xxx, from: ...}]}
});
```

## Publish data to the Graph Api
All publish requests will require an `access token`
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.fbgraph.setAccessToken" id="apidoc.element.fbgraph.setAccessToken">
        function <span class="apidocSignatureSpan">fbgraph.</span>setAccessToken
        <span class="apidocSignatureSpan">(token)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setAccessToken = function (token) {
  accessToken = token;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
If you get an accesstoken via some other Oauth module like [everyauth](https://github.com/bnoguchi/everyauth) ,
[connect-auth](https://github.com/ciaranj/connect-auth) or [node-oauth](https://github.com/ciaranj/node-oauth) you can just set
the access token directly. Most `get` calls, and pretty much all `post` calls will require an `access_token`


### Static access token (used on all calls)
```js
graph.<span class="apidocCodeKeywordSpan">setAccessToken</span>(access_token);
```

### To use a specific access token for a particular request
```js
// pass it in as part of the url
graph.post(userId + &#x22;/feed?access_token=007&#x22;, wallPost, function(err, res) {
    // returns the post id
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.fbgraph.setAppSecret" id="apidoc.element.fbgraph.setAppSecret">
        function <span class="apidocSignatureSpan">fbgraph.</span>setAppSecret
        <span class="apidocSignatureSpan">(token)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setAppSecret = function (token) {
  appSecret = token;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    });
```

### Securing API calls

Facebook [recommends](https://developers.facebook.com/docs/reference/api/securing-graph-api/) adding the
`appsecret_proof` parameter to all API calls to verify that the access tokens are coming from a valid app.
You can make this happen automatically by calling `graph.<span class="apidocCodeKeywordSpan">setAppSecret</span>(app_secret)`, which
 will be used on
all calls to generate the `appsecret_proof` hash that is sent to Facebook.  Make sure you also set the
access token for the user via `graph.setAccessToken`.

## Extending access token expiration time

If you want to [extend the expiration time](http://developers.facebook.com/docs/facebook-login/access-tokens/#extending) of your
 short-living access token, you may use `extendAccessToken` method as it is shown below:
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.fbgraph.setGraphUrl" id="apidoc.element.fbgraph.setGraphUrl">
        function <span class="apidocSignatureSpan">fbgraph.</span>setGraphUrl
        <span class="apidocSignatureSpan">(url)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setGraphUrl = function (url) {
  graphUrl = url;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.fbgraph.setOptions" id="apidoc.element.fbgraph.setOptions">
        function <span class="apidocSignatureSpan">fbgraph.</span>setOptions
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setOptions = function (options) {
  if (typeof options === &#x27;object&#x27;)  requestOptions = options;

  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var options = {
    timeout:  3000
  , pool:     { maxSockets:  Infinity }
  , headers:  { connection:  &#x22;keep-alive&#x22; }
};

graph
  .<span class="apidocCodeKeywordSpan">setOptions</span>(options)
  .get(&#x22;zuck&#x22;, function(err, res) {
    console.log(res); // { id: &#x27;4&#x27;, name: &#x27;Mark Zuckerberg&#x27;... }
  });
```

Possible options can be found on the [request github page](https://github.com/mikeal/request)
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.fbgraph.setVersion" id="apidoc.element.fbgraph.setVersion">
        function <span class="apidocSignatureSpan">fbgraph.</span>setVersion
        <span class="apidocSignatureSpan">(version)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setVersion = function (version) {
  // set version
  graphVersion = version;

  // update auth urls
  oauthDialogUrl       = &#x22;http://www.facebook.com/v&#x22;+version+&#x22;/dialog/oauth?&#x22;; // oldest version for auth
  oauthDialogUrlMobile = &#x22;http://m.facebook.com/v&#x22;+version+&#x22;/dialog/oauth?&#x22;;   // oldest version for auth

  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  }
});
```

## Setting the version of the Graph Api

```js
graph.<span class="apidocCodeKeywordSpan">setVersion</span>(&#x22;2.8&#x22;);
```

See [Facebook API changelog](https://developers.facebook.com/docs/apps/changelog) for available versions.

## Read data from the Graph Api

```js
...</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.fbgraph.graph" id="apidoc.module.fbgraph.graph">module fbgraph.graph</a></h1>


    <h2>
        <a href="#apidoc.element.fbgraph.graph.authorize" id="apidoc.element.fbgraph.graph.authorize">
        function <span class="apidocSignatureSpan">fbgraph.graph.</span>authorize
        <span class="apidocSignatureSpan">(params, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">authorize = function (params, callback) {
  var self = this;

  return this.get(&#x22;/oauth/access_token&#x22;, params, function(err, res) {
    if (!err) self.setAccessToken(res.access_token);

    callback(err, res);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
});

// shows dialog
res.redirect(authUrl);

// after user click, auth `code` will be set
// we&#x27;ll send that and get the access token
graph.<span class="apidocCodeKeywordSpan">authorize</span>({
    &#x22;client_id&#x22;:      conf.client_id
  , &#x22;redirect_uri&#x22;:   conf.redirect_uri
  , &#x22;client_secret&#x22;:  conf.client_secret
  , &#x22;code&#x22;:           req.query.code
}, function (err, facebookRes) {
  res.redirect(&#x27;/loggedIn&#x27;);
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.fbgraph.graph.batch" id="apidoc.element.fbgraph.graph.batch">
        function <span class="apidocSignatureSpan">fbgraph.graph.</span>batch
        <span class="apidocSignatureSpan">(reqs, additionalData, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">batch = function (reqs, additionalData, callback) {
  if (!(reqs instanceof Array)) {
    return callback({ message: &#x27;Graph api batch requests must be an array&#x27; }, null);
  }

  if (typeof additionalData === &#x27;function&#x27;) {
    callback = additionalData;
    additionalData = {};
  }

  return new Graph(&#x27;POST&#x27;, &#x27;&#x27;, extend({}, {
    access_token: accessToken,
    batch: JSON.stringify(reqs)
  }, additionalData), callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
```

## Performing a batch request

[Batching](https://developers.facebook.com/docs/graph-api/making-multiple-requests) allows you to pass instructions for several
operations in a single HTTP request.

```js
graph.<span class="apidocCodeKeywordSpan">batch</span>([
{
  method: &#x22;GET&#x22;,
  relative_url: &#x22;me&#x22; // Get the current user&#x27;s profile information
},
{
  method: &#x22;GET&#x22;,
  relative_url: &#x22;me/friends?limit=50&#x22; // Get the first 50 friends of the current user
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.fbgraph.graph.del" id="apidoc.element.fbgraph.graph.del">
        function <span class="apidocSignatureSpan">fbgraph.graph.</span>del
        <span class="apidocSignatureSpan">(url, postData, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">del = function (url, postData, callback) {
  if (!url.match(/[?|&#x26;]method=delete/i)) {
    url += ~url.indexOf(&#x27;?&#x27;) ? &#x27;&#x26;&#x27; : &#x27;?&#x27;;
    url += &#x27;method=delete&#x27;;
  }

  if (typeof postData === &#x27;function&#x27;) {
    callback = postData;
    postData = url.indexOf(&#x27;access_token&#x27;) !== -1 ? {} : {access_token: accessToken};
  }

  return this.post(url, postData, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

## Delete a Graph object

To delete a graph object, provide an `object id` and the
response will return `{data: true}` or `{data:false}`

```js
graph.<span class="apidocCodeKeywordSpan">del</span>(postID, function(err, res) {
  console.log(res); // {data:true}/{data:false}
});
```

## Performing a batch request

[Batching](https://developers.facebook.com/docs/graph-api/making-multiple-requests) allows you to pass instructions for several
operations in a single HTTP request.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.fbgraph.graph.extendAccessToken" id="apidoc.element.fbgraph.graph.extendAccessToken">
        function <span class="apidocSignatureSpan">fbgraph.graph.</span>extendAccessToken
        <span class="apidocSignatureSpan">(params, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">extendAccessToken = function (params, callback) {
    var self = this;

    params.grant_type        = &#x27;fb_exchange_token&#x27;;
    params.fb_exchange_token = params.access_token ? params.access_token : this.getAccessToken();

    return this.get(&#x22;/oauth/access_token&#x22;, params, function(err, res) {
      if (!err &#x26;&#x26; !params.access_token) {
        self.setAccessToken(res.access_token);
      }

      callback(err, res);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

## Extending access token expiration time

If you want to [extend the expiration time](http://developers.facebook.com/docs/facebook-login/access-tokens/#extending) of your
 short-living access token, you may use `extendAccessToken` method as it is shown below:

```js
// extending static access token
graph.<span class="apidocCodeKeywordSpan">extendAccessToken</span>({
    &#x22;client_id&#x22;:      conf.client_id
  , &#x22;client_secret&#x22;:  conf.client_secret
}, function (err, facebookRes) {
   console.log(facebookRes);
});

// extending specific access token
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.fbgraph.graph.fql" id="apidoc.element.fbgraph.graph.fql">
        function <span class="apidocSignatureSpan">fbgraph.graph.</span>fql
        <span class="apidocSignatureSpan">(query, params, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fql = function (query, params, callback) {
  if (typeof query !== &#x27;string&#x27;) query = JSON.stringify(query);

  var url = &#x27;/fql?q=&#x27; + encodeURIComponent(query);

  if (typeof params === &#x27;function&#x27;) {
    callback = params;
    params = null;
    return this.get(url, callback);
  } else {
    return this.get(url, params, callback);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
## Performing a FQL query

A single FQL query is done by sending a query as a string

```js
var query = &#x22;SELECT name FROM user WHERE uid = me()&#x22;;

graph.<span class="apidocCodeKeywordSpan">fql</span>(query, function(err, res) {
  console.log(res); // { data: [ { name: &#x27;Ricky Bobby&#x27; } ] }
});
```

You can specify additional options by adding a JSON object
```js
var query = &#x22;SELECT name FROM user WHERE uid = me()&#x22;;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.fbgraph.graph.get" id="apidoc.element.fbgraph.graph.get">
        function <span class="apidocSignatureSpan">fbgraph.graph.</span>get
        <span class="apidocSignatureSpan">(url, params, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">get = function (url, params, callback) {
  if (typeof params === &#x27;function&#x27;) {
    callback = params;
    params   = null;
  }

  if (typeof url !== &#x27;string&#x27;) {
    return callback({ message: &#x27;Graph api url must be a string&#x27; }, null);
  }

  if (params)  {
    url += ~url.indexOf(&#x27;?&#x27;) ? &#x27;&#x26;&#x27; : &#x27;?&#x27;;
    url += qs.stringify(params);
  }

  return new Graph(&#x27;GET&#x27;, url, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    timeout:  3000
  , pool:     { maxSockets:  Infinity }
  , headers:  { connection:  &#x22;keep-alive&#x22; }
};

graph
  .setOptions(options)
  .<span class="apidocCodeKeywordSpan">get</span>(&#x22;zuck&#x22;, function(err, res) {
    console.log(res); // { id: &#x27;4&#x27;, name: &#x27;Mark Zuckerberg&#x27;... }
  });
```

Possible options can be found on the [request github page](https://github.com/mikeal/request)

`followRedirect` cannot be overriden and has a default value of `false`
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.fbgraph.graph.getAccessToken" id="apidoc.element.fbgraph.graph.getAccessToken">
        function <span class="apidocSignatureSpan">fbgraph.graph.</span>getAccessToken
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getAccessToken = function () {
  return accessToken;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 * @param {function} callback
 */

exports.extendAccessToken = function (params, callback) {
    var self = this;

    params.grant_type        = &#x27;fb_exchange_token&#x27;;
    params.fb_exchange_token = params.access_token ? params.access_token : this.<span class="apidocCodeKeywordSpan">getAccessToken
</span>();

    return this.get(&#x22;/oauth/access_token&#x22;, params, function(err, res) {
if (!err &#x26;&#x26; !params.access_token) {
  self.setAccessToken(res.access_token);
}

callback(err, res);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.fbgraph.graph.getAppSecret" id="apidoc.element.fbgraph.graph.getAppSecret">
        function <span class="apidocSignatureSpan">fbgraph.graph.</span>getAppSecret
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getAppSecret = function () {
  return appSecret;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.fbgraph.graph.getGraphUrl" id="apidoc.element.fbgraph.graph.getGraphUrl">
        function <span class="apidocSignatureSpan">fbgraph.graph.</span>getGraphUrl
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getGraphUrl = function () {
  return graphUrl;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    assert.include(res, &#x22;image&#x22;);
    assert.include(res, &#x22;location&#x22;);
  }
},

&#x22;and requesting an api url with prefixed graphurl&#x22;: {
  topic: function() {
    graph.get(graph.<span class="apidocCodeKeywordSpan">getGraphUrl</span>() + &#x22;/zuck/picture&#x22;, this.callback);
  },

  &#x22;should be able to get valid data&#x22;: function (err, res) {
    assert.include(res, &#x22;image&#x22;);
    assert.include(res, &#x22;location&#x22;);
  }
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.fbgraph.graph.getOauthUrl" id="apidoc.element.fbgraph.graph.getOauthUrl">
        function <span class="apidocSignatureSpan">fbgraph.graph.</span>getOauthUrl
        <span class="apidocSignatureSpan">(params, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getOauthUrl = function (params, opts) {
  var url = (opts &#x26;&#x26; opts.mobile) ? oauthDialogUrlMobile : oauthDialogUrl;
  return url + qs.stringify(params);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...


This is how you would get authenticated using only the `fbgraph` module.
More details below on the __express app__ section

```js
// get authorization url
var authUrl = graph.<span class="apidocCodeKeywordSpan">getOauthUrl</span>({
    &#x22;client_id&#x22;:     conf.client_id
  , &#x22;redirect_uri&#x22;:  conf.redirect_uri
});

// shows dialog
res.redirect(authUrl);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.fbgraph.graph.getOptions" id="apidoc.element.fbgraph.graph.getOptions">
        function <span class="apidocSignatureSpan">fbgraph.graph.</span>getOptions
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getOptions = function () {
  return requestOptions;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    var options = {
        timeout:  30000
      , pool:     false
      , headers:  { connection:  &#x22;keep-alive&#x22; }
    };

    graph.setOptions(options);
    assert.equal(graph.<span class="apidocCodeKeywordSpan">getOptions</span>(), options);

    // reset
    graph.setOptions({});
  }
}
}).addBatch({
&#x22;When accessing the graphApi&#x22;: {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.fbgraph.graph.post" id="apidoc.element.fbgraph.graph.post">
        function <span class="apidocSignatureSpan">fbgraph.graph.</span>post
        <span class="apidocSignatureSpan">(url, postData, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">post = function (url, postData, callback) {
  if (typeof url !== &#x27;string&#x27;) {
    return callback({ message: &#x27;Graph api url must be a string&#x27; }, null);
  }

  if (typeof postData === &#x27;function&#x27;) {
    callback = postData;
    postData = url.indexOf(&#x27;access_token&#x27;) !== -1 ? {} : {access_token: accessToken};
  }

  return new Graph(&#x27;POST&#x27;, url, postData, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
```js
    graph.setAccessToken(access_token);
```

### To use a specific access token for a particular request
```js
    // pass it in as part of the url
    graph.<span class="apidocCodeKeywordSpan">post</span>(userId + &#x22;/feed?access_token=007&#x22;, wallPost, function(err, res
) {
        // returns the post id
        console.log(res); // { id: xxxxx}
    });

```
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.fbgraph.graph.search" id="apidoc.element.fbgraph.graph.search">
        function <span class="apidocSignatureSpan">fbgraph.graph.</span>search
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">search = function (options, callback) {
  options = options || {};
  var url = &#x27;/search?&#x27; + qs.stringify(options);
  return this.get(url, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

```js
var searchOptions = {
    q:     &#x22;brogramming&#x22;
  , type:  &#x22;post&#x22;
};

graph.<span class="apidocCodeKeywordSpan">search</span>(searchOptions, function(err, res) {
  console.log(res); // {data: [{id: xxx, from: ...}, {id: xxx, from: ...}]}
});
```

## Publish data to the Graph Api
All publish requests will require an `access token`
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.fbgraph.graph.setAccessToken" id="apidoc.element.fbgraph.graph.setAccessToken">
        function <span class="apidocSignatureSpan">fbgraph.graph.</span>setAccessToken
        <span class="apidocSignatureSpan">(token)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setAccessToken = function (token) {
  accessToken = token;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
If you get an accesstoken via some other Oauth module like [everyauth](https://github.com/bnoguchi/everyauth) ,
[connect-auth](https://github.com/ciaranj/connect-auth) or [node-oauth](https://github.com/ciaranj/node-oauth) you can just set
the access token directly. Most `get` calls, and pretty much all `post` calls will require an `access_token`


### Static access token (used on all calls)
```js
graph.<span class="apidocCodeKeywordSpan">setAccessToken</span>(access_token);
```

### To use a specific access token for a particular request
```js
// pass it in as part of the url
graph.post(userId + &#x22;/feed?access_token=007&#x22;, wallPost, function(err, res) {
    // returns the post id
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.fbgraph.graph.setAppSecret" id="apidoc.element.fbgraph.graph.setAppSecret">
        function <span class="apidocSignatureSpan">fbgraph.graph.</span>setAppSecret
        <span class="apidocSignatureSpan">(token)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setAppSecret = function (token) {
  appSecret = token;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    });
```

### Securing API calls

Facebook [recommends](https://developers.facebook.com/docs/reference/api/securing-graph-api/) adding the
`appsecret_proof` parameter to all API calls to verify that the access tokens are coming from a valid app.
You can make this happen automatically by calling `graph.<span class="apidocCodeKeywordSpan">setAppSecret</span>(app_secret)`, which
 will be used on
all calls to generate the `appsecret_proof` hash that is sent to Facebook.  Make sure you also set the
access token for the user via `graph.setAccessToken`.

## Extending access token expiration time

If you want to [extend the expiration time](http://developers.facebook.com/docs/facebook-login/access-tokens/#extending) of your
 short-living access token, you may use `extendAccessToken` method as it is shown below:
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.fbgraph.graph.setGraphUrl" id="apidoc.element.fbgraph.graph.setGraphUrl">
        function <span class="apidocSignatureSpan">fbgraph.graph.</span>setGraphUrl
        <span class="apidocSignatureSpan">(url)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setGraphUrl = function (url) {
  graphUrl = url;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.fbgraph.graph.setOptions" id="apidoc.element.fbgraph.graph.setOptions">
        function <span class="apidocSignatureSpan">fbgraph.graph.</span>setOptions
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setOptions = function (options) {
  if (typeof options === &#x27;object&#x27;)  requestOptions = options;

  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var options = {
    timeout:  3000
  , pool:     { maxSockets:  Infinity }
  , headers:  { connection:  &#x22;keep-alive&#x22; }
};

graph
  .<span class="apidocCodeKeywordSpan">setOptions</span>(options)
  .get(&#x22;zuck&#x22;, function(err, res) {
    console.log(res); // { id: &#x27;4&#x27;, name: &#x27;Mark Zuckerberg&#x27;... }
  });
```

Possible options can be found on the [request github page](https://github.com/mikeal/request)
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.fbgraph.graph.setVersion" id="apidoc.element.fbgraph.graph.setVersion">
        function <span class="apidocSignatureSpan">fbgraph.graph.</span>setVersion
        <span class="apidocSignatureSpan">(version)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setVersion = function (version) {
  // set version
  graphVersion = version;

  // update auth urls
  oauthDialogUrl       = &#x22;http://www.facebook.com/v&#x22;+version+&#x22;/dialog/oauth?&#x22;; // oldest version for auth
  oauthDialogUrlMobile = &#x22;http://m.facebook.com/v&#x22;+version+&#x22;/dialog/oauth?&#x22;;   // oldest version for auth

  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  }
});
```

## Setting the version of the Graph Api

```js
graph.<span class="apidocCodeKeywordSpan">setVersion</span>(&#x22;2.8&#x22;);
```

See [Facebook API changelog](https://developers.facebook.com/docs/apps/changelog) for available versions.

## Read data from the Graph Api

```js
...</pre></li>
    </ul>




</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
